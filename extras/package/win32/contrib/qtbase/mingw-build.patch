From: Eric Lemanissier <eric.lemanissier@gmail.com>
Date: Sun, 3 Feb 2019 13:42:27 +0000 (+0100)
Subject: configure: use proper separator for mingw libraries
X-Git-Url: https://codereview.qt-project.org/gitweb?p=qt%2Fqtbase.git;a=commitdiff_plain;h=fd88c152db0949e47613858a914a6ae4a825781d;hp=3b87ecc06a4056de48ce7fa4d69ca71422cc1170

configure: use proper separator for mingw libraries

Change-Id: Ic328691fe2f08e918c1bb67910521d85b274a8fd
Fixes: QTBUG-73466
Reviewed-by: Kai Koehne <kai.koehne@qt.io>
Reviewed-by: Joerg Bornemann <joerg.bornemann@qt.io>
---

diff --git a/mkspecs/features/toolchain.prf b/mkspecs/features/toolchain.prf
index 2a7cbabc544..9c3a64aa8bc 100644
--- a/mkspecs/features/toolchain.prf
+++ b/mkspecs/features/toolchain.prf
@@ -229,7 +229,10 @@ isEmpty($${target_prefix}.INCDIRS) {
                 line ~= s/^[ \\t]*//  # remove leading spaces
                 contains(line, "LIBRARY_PATH=.*") {
                     line ~= s/^LIBRARY_PATH=//  # remove leading LIBRARY_PATH=
-                    paths = $$split(line, $$QMAKE_DIRLIST_SEP)
+                    equals(QMAKE_HOST.os, Windows): \
+                        paths = $$split(line, ;)
+                    else: \
+                        paths = $$split(line, $$QMAKE_DIRLIST_SEP)
                     for (path, paths): \
                         QMAKE_DEFAULT_LIBDIRS += $$clean_path($$path)
                 } else: contains(line, "Library search paths:") {
